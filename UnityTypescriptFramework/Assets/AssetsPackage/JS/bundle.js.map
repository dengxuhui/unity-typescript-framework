{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./src/GameMain.ts","webpack:///./src/framework/UnityTs.ts","webpack:///./src/framework/resource/GameObjectPool.ts","webpack:///./src/framework/utils/timer/CallLater.ts","webpack:///./src/framework/utils/timer/Timer.ts","webpack:///external \"csharp\""],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/GameMain.ts\");\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import UnityTs from './framework/UnityTs';\r\nimport {CS} from \"csharp\";\r\nclass GameMain{\r\n    constructor(){\r\n        //初始化框架\r\n        UnityTs.init();\r\n        CS.Logger.Log(\"js start up newer!!\");\r\n    }\r\n}\r\n\r\nnew GameMain();","/* 全局类入口*/\r\n\r\nimport { TimerMgr } from \"./utils/timer/Timer\";\r\nimport { GameObjectPool } from './resource/GameObjectPool';\r\n\r\nclass Utils {\r\n    /*id*/\r\n    static _gid: number = 1;\r\n    static _pi: number = 180 / Math.PI;\r\n    static _pi2: number = Math.PI / 180;\r\n    static _extReg: RegExp = /\\.(\\w+)\\??/g;\r\n\r\n    /*\r\n    * 角度转弧度\r\n    * */\r\n    public static toRadian(angle: number): number {\r\n        return angle * Utils._pi2;\r\n    }\r\n\r\n    /* \r\n    * 弧度转角度\r\n    * */\r\n    public static toAngle(radian: number): number {\r\n        return radian * Utils._pi;\r\n    }\r\n\r\n    /*\r\n    * 获取唯一id\r\n    * */\r\n    public static getGID(): number {\r\n        return Utils._gid++;\r\n    }\r\n\r\n    /**\r\n     * @private\r\n     * <p>连接数组。和array的concat相比，此方法不创建新对象</p>\r\n     * <b>注意：</b>若 参数 a 不为空，则会改变参数 source 的值为连接后的数组。\r\n     * @param    source 待连接的数组目标对象。\r\n     * @param    array 待连接的数组对象。\r\n     * @return 连接后的数组。\r\n     */\r\n    public static concatArray(source: any[], array: any[]): any[] {\r\n        if (!array) return source;\r\n        if (!source) return array;\r\n        let i: number, len: number = array.length;\r\n        for (i = 0; i < len; i++) {\r\n            source.push(array[i]);\r\n        }\r\n        return source;\r\n    }\r\n}\r\n\r\nexport default class UnityTs {\r\n    /* 工具类*/\r\n    static utils: typeof Utils = Utils;\r\n    static init() {\r\n        TimerMgr.init();\r\n        GameObjectPool.Instance.initialize();\r\n    }\r\n}\r\n","import { UnityEngine } from \"csharp\";\r\nimport Handler from \"framework/utils/Handler\";\r\nimport { $promise, $typeof } from \"puerts\";\r\nimport { ISingleton } from '../interface/ISingleton';\r\n/*\r\n* GameObject资源池\r\n* */\r\nexport class GameObjectPool implements ISingleton {\r\n    public static Instance: GameObjectPool = new GameObjectPool();\r\n\r\n    private _cacheTransRoot = null;\r\n    private _goPool = new Map();\r\n    private _instCache: Map<string, Array<any>> = new Map<string, Array<any>>();\r\n    /**\r\n     * 密封构造函数\r\n     */\r\n    private constructor() {\r\n    }\r\n\r\n    /**\r\n     * 初始化\r\n     */\r\n    public initialize(): void {\r\n        let go = UnityEngine.GameObject.Find(\"GameObjectCacheRoot\");\r\n        if (go == (void 0)) {\r\n            go = new UnityEngine.GameObject(\"GameObjectCacheRoot\");\r\n            UnityEngine.Object.DontDestroyOnLoad(go);\r\n        }\r\n        this._cacheTransRoot = go.transform;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param path \r\n     * @returns bool\r\n     */\r\n    public checkHasCached(path: string): boolean {\r\n        let cachedInst: Array<any> = this._instCache.get(path);\r\n        if (cachedInst && cachedInst.length > 0) {\r\n            return true;\r\n        }\r\n        let pooledGo = this._goPool.get(path);\r\n        return pooledGo != (void 0);\r\n    }\r\n\r\n    /**\r\n     * 缓存并实例化GameObject\r\n     * @param path \r\n     * @param go \r\n     * @param inst_count \r\n     */\r\n    public cacheAndInstGameObject(path: string, go: any, inst_count: number = 1) {\r\n        //TODO 添加GameObject对于资源的引用\r\n        this._goPool.set(path, go);\r\n        if (inst_count > 0) {\r\n            let cachedInst: Array<any> = this._instCache.get(path);\r\n            for (let i: number = 0; i < inst_count; i++) {\r\n                let inst = UnityEngine.GameObject.Instantiate(go) as UnityEngine.GameObject;\r\n                inst.transform.SetParent(this._cacheTransRoot);\r\n                inst.SetActive(false);\r\n                cachedInst.push(inst);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 从缓存获取对象\r\n     * @param path\r\n     */\r\n    public tryGetFromCache(path: string): any {\r\n        if (!this.checkHasCached(path)) {\r\n            return null;\r\n        }\r\n        let cachedInst: Array<any> = this._instCache.get(path);\r\n        if (cachedInst != (void 0) && cachedInst.length > 0) {\r\n            let inst = cachedInst.pop();\r\n            return inst;\r\n        }\r\n        let pooledGo = this._goPool.get(path);\r\n        if (pooledGo != void 0) {\r\n            let inst = UnityEngine.GameObject.Instantiate(pooledGo);\r\n            return inst;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * 预加载GameObject\r\n     * @param path \r\n     * @param inst_count \r\n     * @param callback \r\n     * @returns \r\n     */\r\n    public async preLoadGameObjectAsync(path: string, inst_count: number, callback: Handler) {\r\n        if (this.checkHasCached(path)) {\r\n            callback && callback.run();\r\n            return;\r\n        }    \r\n        // let go = await ResourceManager.I.loadPrefabAsync(path);\r\n        // if (go != (void 0)) {\r\n        //     this.cacheAndInstGameObject(path, go, inst_count);\r\n        // }\r\n        // callback && callback.run();\r\n    }\r\n\r\n    /**\r\n     * 异步加载资源\r\n     * @param path \r\n     * @param callback \r\n     */\r\n    public async loadGameObjetAsync(path: string) {\r\n        let inst = this.tryGetFromCache(path);\r\n        if (inst == (void 0)) {\r\n            await this.preLoadGameObjectAsync(path, 1, null);\r\n        }\r\n        inst = this.tryGetFromCache(path);\r\n        inst.SetActive(true);\r\n        return inst;\r\n    }\r\n\r\n    /**\r\n     * 回收GameObject\r\n     * @param path \r\n     * @param inst \r\n     * @returns \r\n     */\r\n    public recycleGameObject(path: string, inst: UnityEngine.GameObject) {\r\n        if (inst == (void 0)) {\r\n            return;\r\n        }\r\n        inst.transform.SetParent(this._cacheTransRoot);\r\n        inst.SetActive(false);\r\n        let cachedInst = this._instCache.get(path) || [];\r\n        cachedInst.push(inst);\r\n        this._instCache.set(path, cachedInst);\r\n    }\r\n\r\n    public cleanup() {\r\n        this._instCache.forEach((arr: Array<any>, path: string) => {\r\n            for (let obj of arr) {\r\n                if (obj != (void 0)) {\r\n                    UnityEngine.GameObject.Destroy(obj);\r\n                }\r\n            }\r\n        });        \r\n        this._instCache.clear();\r\n        //清除cachePool中的GameObject引用\r\n    }\r\n}","import UnityTs from '../../UnityTs';\r\n/**\r\n * 延迟一帧执行\r\n */\r\nexport default class CallLater {\r\n    static I = new CallLater();\r\n    private static _mid: number = 1;\r\n    private _pool: LaterHandler[] = [];\r\n    private _map: { [key: string]: LaterHandler } = {};\r\n    private _laters: LaterHandler[] = [];\r\n\r\n    /**\r\n     * @internal\r\n     * 帧循环处理函数。\r\n     */\r\n    _update(): void {\r\n        let laters = this._laters;\r\n        let len = laters.length;\r\n        if (len > 0) {\r\n            for (let i = 0, n = len - 1; i <= n; i++) {\r\n                let handler = laters[i];\r\n                this._map[handler.key] = null;\r\n                if (handler.method !== null) {\r\n                    handler.run();\r\n                    handler.clear();\r\n                }\r\n                this._pool.push(handler);\r\n                i === n && (n = laters.length - 1);\r\n            }\r\n            laters.length = 0;\r\n        }\r\n    }\r\n\r\n    /** @private */\r\n    private _getHandler(caller: any, method: any): LaterHandler {\r\n        var cid: number = caller ? caller.$_GID || (caller.$_GID = UnityTs.utils.getGID()) : 0;\r\n        var mid: number = method.$_TID || (method.$_TID = (CallLater._mid++));\r\n        return this._map[cid + '.' + mid]\r\n    }\r\n\r\n    /**\r\n     * 延迟执行。\r\n     * @param\tcaller 执行域(this)。\r\n     * @param\tmethod 定时器回调函数。\r\n     * @param\targs 回调参数。\r\n     */\r\n    callLater(caller: any, method: Function, args: any[] = null): void {\r\n        if (this._getHandler(caller, method) == null) {\r\n            let handler: LaterHandler;\r\n            if (this._pool.length)\r\n                handler = this._pool.pop();\r\n            else\r\n                handler = new LaterHandler();\r\n            //设置属性\r\n            handler.caller = caller;\r\n            handler.method = method;\r\n            handler.args = args;\r\n            //索引handler\r\n            var cid: number = caller ? caller.$_GID : 0;\r\n            var mid: number = (method as any)[\"$_TID\"];\r\n            handler.key = cid + '.' + mid;\r\n            this._map[handler.key] = handler\r\n            //插入队列\r\n            this._laters.push(handler);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 立即执行 callLater 。\r\n     * @param\tcaller 执行域(this)。\r\n     * @param\tmethod 定时器回调函数。\r\n     */\r\n    runCallLater(caller: any, method: Function): void {\r\n        var handler = this._getHandler(caller, method);\r\n        if (handler && handler.method != null) {\r\n            this._map[handler.key] = null;\r\n            handler.run();\r\n            handler.clear();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/** @private */\r\nclass LaterHandler {\r\n    key: string;\r\n    caller: any\r\n    method: Function;\r\n    args: any[];\r\n\r\n    clear(): void {\r\n        this.caller = null;\r\n        this.method = null;\r\n        this.args = null;\r\n    }\r\n\r\n    run(): void {\r\n        var caller = this.caller;\r\n        if (caller && caller.destroyed) return this.clear();\r\n        var method = this.method;\r\n        var args = this.args;\r\n        if (method == null) return;\r\n        args ? method.apply(caller, args) : method.call(caller);\r\n    }\r\n}","/*\r\n* \r\n* 时钟管理器 使用Utf.timer访问\r\n* */\r\nimport UnityTs from \"../../UnityTs\";\r\nimport CallLater from './CallLater';\r\n\r\nclass Timer {\r\n    /*timer入口*/\r\n    static gSysTimer: Timer = null;\r\n\r\n    /*对象池*/\r\n    private static _pool: any[] = [];\r\n    private static _mid: number = 1;\r\n\r\n    scale: number = 1;\r\n    currTimer: number = Date.now();\r\n    currFrame: number = 0;\r\n    /*两帧之间的时间间隔，单位：毫秒*/\r\n    _delta: number = 0;\r\n    _lastTimer: number = Date.now();\r\n\r\n    private _map: any[] = [];\r\n    private _handlers: any[] = [];\r\n    private _temp: any[] = [];\r\n    private _count: number = 0;\r\n\r\n    constructor(autoActive: boolean = true) {\r\n        autoActive && Timer.gSysTimer && Timer.gSysTimer.frameLoop(1, this, this._update);\r\n    }\r\n\r\n    /* 获取两帧之间的时间间隔，单位毫秒*/\r\n    get delta(): number {\r\n        return this._delta;\r\n    }\r\n\r\n    /* 帧循环*/\r\n    _update(): void {\r\n        if (this.scale <= 0) {\r\n            this._lastTimer = Date.now();\r\n            this._delta = 0;\r\n            return;\r\n        }\r\n        let frame: number = this.currFrame = this.currFrame + this.scale;\r\n        let now: number = Date.now();\r\n        let awake: boolean = (now - this._lastTimer) > 30000;\r\n        this._delta = (now - this._lastTimer) * this.scale;\r\n        let timer: number = this.currTimer = this.currTimer + this._delta;\r\n        this._lastTimer = now;\r\n\r\n        let handlers: any[] = this._handlers;\r\n        this._count = 0;\r\n        for (let i: number = 0, n: number = handlers.length; i < n; i++) {\r\n            let handler: TimerHandler = handlers[i];\r\n            if (handler.method !== null) {\r\n                let t: number = handler.useFrame ? frame : timer;\r\n                if (t >= handler.exeTime) {\r\n                    if (handler.repeat) {\r\n                        if (!handler.jumpFrame || awake) {\r\n                            handler.exeTime += handler.delay;\r\n                            handler.run(false);\r\n                            if (t > handler.exeTime) {\r\n                                handler.exeTime += Math.ceil((t - handler.exeTime) / handler.delay) * handler.delay;\r\n                            }\r\n                        } else {\r\n                            // 一帧可多次执行的情况。\r\n                            while (t >= handler.exeTime) {\r\n                                handler.exeTime += handler.delay;\r\n                                handler.run(false)\r\n                            }\r\n                        }\r\n                    } else {\r\n                        handler.run(true);\r\n                    }\r\n                }\r\n            } else {\r\n                this._count++;\r\n            }\r\n        }\r\n\r\n        if (this._count > 30 || frame % 200 === 0) this._clearHandlers();\r\n    }\r\n\r\n    /*整理handlers数组*/\r\n    _clearHandlers(): void {\r\n        let handlers: any[] = this._handlers;\r\n        for (let i: number = 0, n: number = handlers.length; i < n; i++) {\r\n            let handler: TimerHandler = handlers[i];\r\n            if (handler.method !== null) this._temp.push(handler);\r\n            else this._recoverHandler(handler);\r\n        }\r\n        this._handlers = this._temp;\r\n        handlers.length = 0;\r\n        this._temp = handlers;\r\n    }\r\n\r\n    /*回收handler*/\r\n    _recoverHandler(handler: TimerHandler): void {\r\n        if (this._map[handler.key] == handler) this._map[handler.key] = null;\r\n        handler.clear();\r\n        Timer._pool.push(handler);\r\n    }\r\n\r\n    /* 创建TimerHandler实例*/\r\n    _create(useFrame: boolean, repeat: boolean, delay: number, caller: any, method: Function, args: any[], coverBefore: boolean): TimerHandler {\r\n        if (!delay) {\r\n            method.apply(caller, args);\r\n            return null;\r\n        }\r\n        let handler: TimerHandler;\r\n        if (coverBefore) {\r\n            handler = this._getHandler(caller, method);\r\n            if (handler) {\r\n                handler.repeat = repeat;\r\n                handler.useFrame = useFrame;\r\n                handler.delay = delay;\r\n                handler.caller = caller;\r\n                handler.method = method;\r\n                handler.args = args;\r\n                handler.exeTime = delay + (useFrame ? this.currFrame : this.currTimer + Date.now() - this._lastTimer);\r\n                return handler;\r\n            }\r\n        }\r\n        handler = Timer._pool.length > 0 ? Timer._pool.pop() : new TimerHandler();\r\n        handler.repeat = repeat;\r\n        handler.useFrame = useFrame;\r\n        handler.delay = delay;\r\n        handler.caller = caller;\r\n        handler.method = method;\r\n        handler.args = args;\r\n        handler.exeTime = delay + (useFrame ? this.currFrame : this.currTimer + Date.now() - this._lastTimer);\r\n\r\n        this._indexHandler(handler);\r\n        this._handlers.push(handler);\r\n        return handler;\r\n    }\r\n\r\n    /*获取handler*/\r\n    _getHandler(caller: any, method: any): TimerHandler {\r\n        let cid: number = caller ? caller.$_GID || (caller.$_GID = UnityTs.utils.getGID()) : 0;\r\n        let mid: number = method.$_TID || (method.$_TID = (Timer._mid++) * 100000);\r\n        return this._map[cid + mid];\r\n    }\r\n\r\n    /*\r\n    * 索引handler\r\n    * */\r\n    _indexHandler(handler: TimerHandler) {\r\n        let caller: any = handler.caller;\r\n        let method: any = handler.method;\r\n        let cid: number = caller ? caller.$_GID || (caller.$_GID = UnityTs.utils.getGID()) : 0;\r\n        let mid: number = method.$_TID || (method.$_TID = (Timer._mid++) * 100000);\r\n        handler.key = cid + mid;\r\n        this._map[handler.key] = handler;\r\n    }\r\n\r\n\r\n    /**\r\n     * 定时执行一次。\r\n     * @param    delay    延迟时间(单位为毫秒)。\r\n     * @param    caller    执行域(this)。\r\n     * @param    method    定时器回调函数。\r\n     * @param    args    回调参数。\r\n     * @param    coverBefore    是否覆盖之前的延迟执行，默认为 true 。\r\n     */\r\n    once(delay: number, caller: any, method: Function, args: any[] = null, coverBefore: boolean = true): void {\r\n        this._create(false, false, delay, caller, method, args, coverBefore);\r\n    }\r\n\r\n    /**\r\n     * 定时重复执行。\r\n     * @param    delay    间隔时间(单位毫秒)。\r\n     * @param    caller    执行域(this)。\r\n     * @param    method    定时器回调函数。\r\n     * @param    args    回调参数。\r\n     * @param    coverBefore    是否覆盖之前的延迟执行，默认为 true 。\r\n     * @param    jumpFrame 时钟是否跳帧。基于时间的循环回调，单位时间间隔内，如能执行多次回调，出于性能考虑，引擎默认只执行一次，设置jumpFrame=true后，则回调会连续执行多次\r\n     */\r\n    loop(delay: number, caller: any, method: Function, args: any[] = null, coverBefore: boolean = true, jumpFrame: boolean = false): void {\r\n        const handler: TimerHandler = this._create(false, true, delay, caller, method, args, coverBefore);\r\n        if (handler) handler.jumpFrame = jumpFrame;\r\n    }\r\n\r\n    /**\r\n     * 定时执行一次(基于帧率)。\r\n     * @param    delay    延迟几帧(单位为帧)。\r\n     * @param    caller    执行域(this)。\r\n     * @param    method    定时器回调函数。\r\n     * @param    args    回调参数。\r\n     * @param    coverBefore    是否覆盖之前的延迟执行，默认为 true 。\r\n     */\r\n    frameOnce(delay: number, caller: any, method: Function, args: any[] = null, coverBefore: boolean = true): void {\r\n        this._create(true, false, delay, caller, method, args, coverBefore);\r\n    }\r\n\r\n    /**\r\n     * 定时重复执行(基于帧率)。\r\n     * @param    delay    间隔几帧(单位为帧)。\r\n     * @param    caller    执行域(this)。\r\n     * @param    method    定时器回调函数。\r\n     * @param    args    回调参数。\r\n     * @param    coverBefore    是否覆盖之前的延迟执行，默认为 true 。\r\n     */\r\n    frameLoop(delay: number, caller: any, method: Function, args: any[] = null, coverBefore: boolean = true): void {\r\n        this._create(true, true, delay, caller, method, args, coverBefore);\r\n    }\r\n\r\n    /** 返回统计信息。*/\r\n    toString(): string {\r\n        return \" handlers:\" + this._handlers.length + \" pool:\" + Timer._pool.length;\r\n    }\r\n\r\n    /**\r\n     * 清理定时器。\r\n     * @param    caller 执行域(this)。\r\n     * @param    method 定时器回调函数。\r\n     */\r\n    clear(caller: any, method: Function): void {\r\n        let handler: TimerHandler = this._getHandler(caller, method);\r\n        if (handler) {\r\n            this._map[handler.key] = null;\r\n            handler.key = 0;\r\n            handler.clear();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清理对象身上的所有定时器。\r\n     * @param    caller 执行域(this)。\r\n     */\r\n    clearAll(caller: any): void {\r\n        if (!caller) return;\r\n        let i: number = 0;\r\n        const n: number = this._handlers.length;\r\n        for (; i < n; i++) {\r\n            const handler: TimerHandler = this._handlers[i];\r\n            if (handler.caller === caller) {\r\n                this._map[handler.key] = null;\r\n                handler.key = 0;\r\n                handler.clear();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 立即提前执行定时器，执行之后从队列中删除\r\n     * @param    caller 执行域(this)。\r\n     * @param    method 定时器回调函数。\r\n     */\r\n    runTimer(caller: any, method: Function): void {\r\n        const handler: TimerHandler = this._getHandler(caller, method);\r\n        if (handler && handler.method != null) {\r\n            this._map[handler.key] = null;\r\n            handler.run(true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 暂停时钟\r\n     */\r\n    pause(): void {\r\n        this.scale = 0;\r\n    }\r\n\r\n    /**\r\n     * 恢复时钟\r\n     */\r\n    resume(): void {\r\n        this.scale = 1;\r\n    }\r\n\r\n    //-----------延迟执行\r\n\r\n    /**\r\n     * 延迟执行。\r\n     * @param\tcaller 执行域(this)。\r\n     * @param\tmethod 定时器回调函数。\r\n     * @param\targs 回调参数。\r\n     */\r\n    callLater(caller: any, method: Function, args?: any[]): void {\r\n        CallLater.I.callLater(caller, method, args);\r\n    }\r\n\r\n    /**\r\n     * 立即执行 callLater 。\r\n     * @param\tcaller 执行域(this)。\r\n     * @param\tmethod 定时器回调函数。\r\n     */\r\n    runCallLater(caller: any, method: Function): void {\r\n        CallLater.I.runCallLater(caller, method);\r\n    }\r\n}\r\n\r\n/* 私有timer函数类*/\r\nclass TimerHandler {\r\n    key: number;\r\n    repeat: boolean;\r\n    delay: number;\r\n    useFrame: boolean;\r\n    exeTime: number;\r\n    caller: any;\r\n    method: Function;\r\n    args: any[];\r\n    jumpFrame: boolean;\r\n\r\n    clear(): void {\r\n        this.caller = null;\r\n        this.method = null;\r\n        this.args = null;\r\n    }\r\n\r\n    run(withClear: boolean): void {\r\n        let caller: any = this.caller;\r\n        if (caller && caller.destroyed) return this.clear();\r\n        let method: Function = this.method;\r\n        let args: any[] = this.args;\r\n        withClear && this.clear();\r\n        if (method == null) return;\r\n        args ? method.apply(caller, args) : method.call(caller);\r\n    }\r\n}\r\n\r\n/*\r\n* \r\n* timer管理器 如果需要新增timer，在这里新建实例，一般一个就够用了。\r\n* */\r\nexport class TimerMgr {\r\n    static _timer: Timer;\r\n    private static _inited: boolean = false;\r\n    //私有构造函数\r\n    private constructor() {\r\n    }\r\n    /*\r\n    * 获取timer唯一实例\r\n    * */\r\n    public static get timer() {\r\n        return this._timer;\r\n    }\r\n\r\n    public static init() {\r\n        if (this._inited) {\r\n            return;\r\n        }\r\n        this._inited = true;\r\n        this._timer = new Timer();\r\n        // @ts-ignore\r\n        global.__tgjsRegisterTickHandler(uts_timerUpdate);\r\n        // @ts-ignore\r\n        delete global.__tgjsRegisterTickHandler;\r\n    }\r\n}\r\n\r\nfunction uts_timerUpdate(){\r\n    TimerMgr._timer._update();\r\n}","module.exports = require(\"csharp\");"],"sourceRoot":""}